(() => {
  // src/utils.ts
  var IS_WORKER = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;

  // src/logger.ts
  var log = true ? IS_WORKER ? (...args) => console.log("[AMLL-Worker]", ...args) : console.log : noop;

  // src/startup_script.ts
  var hookCall = channel.call;
  channel.call = function AppleMusicLikeLyricCallHook(cmd, ...args) {
    if (cmd === "storage.downloadscanner") {
      log(cmd, ...args, new Error().stack);
    } else {
      return hookCall.apply(hookCall, [cmd, ...args]);
    }
  };
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vc3JjL3V0aWxzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9sb2dnZXIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL3N0YXJ0dXBfc2NyaXB0LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgZnVuY3Rpb24gZGVib3VuY2U8VCBleHRlbmRzIEZ1bmN0aW9uPihjYWxsYmFjazogVCwgd2FpdFRpbWU6IG51bWJlcik6IFQge1xuXHRsZXQgdGltZXIgPSAwO1xuXHRyZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VDbG9zdXJlKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdC8vIHJvbWUtaWdub3JlIGxpbnQvc3R5bGUvbm9Bcmd1bWVudHM6IFx1OTYzMlx1NjI5Nlx1NTFGRFx1NjU3MFxuXHRcdGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0aWYgKHRpbWVyKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdH1cblx0XHR0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2suYmluZChzZWxmLCBhcmdzKSwgd2FpdFRpbWUpO1xuXHR9IGFzIHVua25vd24gYXMgVDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWRlcHRoLCBtYXgtc3RhdGVtZW50cywgY29tcGxleGl0eSwgbWF4LWxpbmVzLXBlci1mdW5jdGlvbiAqL1xuY29uc3QgU0xBU0ggPSA0NztcbmNvbnN0IERPVCA9IDQ2O1xuXG5jb25zdCBhc3NlcnRQYXRoID0gKHBhdGg6IHN0cmluZykgPT4ge1xuXHRjb25zdCB0ID0gdHlwZW9mIHBhdGg7XG5cdGlmICh0ICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYSBzdHJpbmcsIGdvdCBhICR7dH1gKTtcblx0fVxufTtcblxuLy8gdGhpcyBmdW5jdGlvbiBpcyBkaXJlY3RseSBmcm9tIG5vZGUgc291cmNlXG5jb25zdCBwb3NpeE5vcm1hbGl6ZSA9IChwYXRoOiBzdHJpbmcsIGFsbG93QWJvdmVSb290OiBib29sZWFuKSA9PiB7XG5cdGxldCByZXMgPSBcIlwiO1xuXHRsZXQgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuXHRsZXQgbGFzdFNsYXNoID0gLTE7XG5cdGxldCBkb3RzID0gMDtcblx0bGV0IGNvZGU6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgKytpKSB7XG5cdFx0aWYgKGkgPCBwYXRoLmxlbmd0aCkge1xuXHRcdFx0Y29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcblx0XHR9IGVsc2UgaWYgKGNvZGUgPT09IFNMQVNIKSB7XG5cdFx0XHRicmVhaztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29kZSA9IFNMQVNIO1xuXHRcdH1cblx0XHRpZiAoY29kZSA9PT0gU0xBU0gpIHtcblx0XHRcdGlmIChsYXN0U2xhc2ggPT09IGkgLSAxIHx8IGRvdHMgPT09IDEpIHtcblx0XHRcdFx0Ly8gTk9PUFxuXHRcdFx0fSBlbHNlIGlmIChsYXN0U2xhc2ggIT09IGkgLSAxICYmIGRvdHMgPT09IDIpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHJlcy5sZW5ndGggPCAyIHx8XG5cdFx0XHRcdFx0bGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHxcblx0XHRcdFx0XHRyZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IERPVCB8fFxuXHRcdFx0XHRcdHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gRE9UXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGlmIChyZXMubGVuZ3RoID4gMikge1xuXHRcdFx0XHRcdFx0Y29uc3QgbGFzdFNsYXNoSW5kZXggPSByZXMubGFzdEluZGV4T2YoXCIvXCIpO1xuXHRcdFx0XHRcdFx0aWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdFx0XHRpZiAobGFzdFNsYXNoSW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0XHRsYXN0U2VnbWVudExlbmd0aCA9IDA7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzID0gcmVzLnNsaWNlKDAsIGxhc3RTbGFzaEluZGV4KTtcblx0XHRcdFx0XHRcdFx0XHRsYXN0U2VnbWVudExlbmd0aCA9IHJlcy5sZW5ndGggLSAxIC0gcmVzLmxhc3RJbmRleE9mKFwiL1wiKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRsYXN0U2xhc2ggPSBpO1xuXHRcdFx0XHRcdFx0XHRkb3RzID0gMDtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRcdHJlcyA9IFwiXCI7XG5cdFx0XHRcdFx0XHRsYXN0U2VnbWVudExlbmd0aCA9IDA7XG5cdFx0XHRcdFx0XHRsYXN0U2xhc2ggPSBpO1xuXHRcdFx0XHRcdFx0ZG90cyA9IDA7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGFsbG93QWJvdmVSb290KSB7XG5cdFx0XHRcdFx0aWYgKHJlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRyZXMgKz0gXCIvLi5cIjtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzID0gXCIuLlwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsYXN0U2VnbWVudExlbmd0aCA9IDI7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChyZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdHJlcyArPSBgLyR7cGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKX1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlcyA9IHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGFzdFNlZ21lbnRMZW5ndGggPSBpIC0gbGFzdFNsYXNoIC0gMTtcblx0XHRcdH1cblx0XHRcdGxhc3RTbGFzaCA9IGk7XG5cdFx0XHRkb3RzID0gMDtcblx0XHR9IGVsc2UgaWYgKGNvZGUgPT09IERPVCAmJiBkb3RzICE9PSAtMSkge1xuXHRcdFx0Kytkb3RzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkb3RzID0gLTE7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcztcbn07XG5cbmNvbnN0IGRlY29kZSA9IChzOiBzdHJpbmcpID0+IHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMpO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gcztcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVBhdGggPSAocDogc3RyaW5nKSA9PiB7XG5cdGFzc2VydFBhdGgocCk7XG5cblx0bGV0IHBhdGggPSBwLnJlcGxhY2VBbGwoXCJcXFxcXCIsIFwiL1wiKTtcblx0aWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIFwiLlwiO1xuXHR9XG5cblx0Y29uc3QgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gU0xBU0g7XG5cdGNvbnN0IHRyYWlsaW5nU2VwYXJhdG9yID0gcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IFNMQVNIO1xuXG5cdHBhdGggPSBkZWNvZGUocGF0aCk7XG5cdHBhdGggPSBwb3NpeE5vcm1hbGl6ZShwYXRoLCAhaXNBYnNvbHV0ZSk7XG5cblx0aWYgKHBhdGgubGVuZ3RoID09PSAwICYmICFpc0Fic29sdXRlKSB7XG5cdFx0cGF0aCA9IFwiLlwiO1xuXHR9XG5cdGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgdHJhaWxpbmdTZXBhcmF0b3IpIHtcblx0XHRwYXRoICs9IFwiL1wiO1xuXHR9XG5cdGlmIChpc0Fic29sdXRlKSB7XG5cdFx0cmV0dXJuIGAvJHtwYXRofWA7XG5cdH1cblxuXHRyZXR1cm4gcGF0aDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5SYW5kb21TdHJpbmcobGVuZ3RoOiBudW1iZXIpIHtcblx0Y29uc3Qgd29yZHMgPSBcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hUWmFiY2RlZmdoaWtsbW5vcHFyc3R1dnd4eXpcIjtcblx0Y29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0cmVzdWx0LnB1c2god29yZHMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHdvcmRzLmxlbmd0aCkpKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG59XG5cbi8vIFx1NzMxQ1x1NkQ0Qlx1NkI0Q1x1OEJDRFx1NzY4NFx1OTYwNVx1OEJGQlx1NjVGNlx1OTVGNFx1RkYwQ1x1NTkyN1x1Njk4Mlx1NjgzOVx1NjM2RVx1NEUyRFx1NjVFNVx1ODJGMVx1NjU4N1x1N0I4MFx1NTM1NVx1OEJBMVx1N0I5N1x1RkYwQ1x1OEZENFx1NTZERVx1NTM1NVx1NEY0RFx1NkJFQlx1NzlEMlx1NzY4NFx1OTYwNVx1OEJGQlx1NjVGNlx1OTVGNFxuZXhwb3J0IGZ1bmN0aW9uIGd1ZXNzVGV4dFJlYWREdXJhdGlvbih0ZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuXHRjb25zdCB3b3JkUmVnZXhwID0gL14oW0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBmNlxcdTAwZjgtXFx1MDBmZlxcLV0rKSQvO1xuXHRsZXQgd29yZENvdW50ID0gMDtcblx0Ly8gXHU0RUU1XHU3QTdBXHU2ODNDXHU1NDhDXHU1NDA0XHU3OUNEXHU2ODA3XHU3MEI5XHU3QjI2XHU1M0Y3XHU1MjA2XHU5Njk0XG5cdGZvciAoY29uc3Qgd29yZCBvZiB0ZXh0LnNwbGl0KFxuXHRcdC9bIFx1MzAwMCxcdUZGMEMuXHUzMDAyXHUwMEI3XHUzMDAxXHUyMDI2XHVGRjFGP1wiXHUyMDFDXHUyMDFEKiZcXF4lXFwkI0AhXHVGRjAxXFwoXFwpXHVGRjA4XHVGRjA5XFw9XFwrX1x1MzAxMFx1MzAxMVxcW1xcXVxce1xcfVxcL3xdKy8sXG5cdCkpIHtcblx0XHRpZiAod29yZFJlZ2V4cC50ZXN0KHdvcmQpKSB7XG5cdFx0XHR3b3JkQ291bnQrKztcblx0XHR9IGVsc2Uge1xuXHRcdFx0d29yZENvdW50ICs9IHdvcmQubGVuZ3RoO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gKHdvcmRDb3VudCAvIDQwMCkgKiA2MCAqIDEwMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SW1hZ2VQcm9wKFxuXHRjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcblx0aW1nOiBIVE1MSW1hZ2VFbGVtZW50IHwgT2Zmc2NyZWVuQ2FudmFzLFxuXHR4ID0gMCxcblx0eSA9IDAsXG5cdHcgPSBjdHguY2FudmFzLndpZHRoLFxuXHRoID0gY3R4LmNhbnZhcy5oZWlnaHQsXG5cdG9mZnNldFggPSAwLjUsXG5cdG9mZnNldFkgPSAwLjUsXG4pIHtcblx0b2Zmc2V0WCA9IHR5cGVvZiBvZmZzZXRYID09PSBcIm51bWJlclwiID8gb2Zmc2V0WCA6IDAuNTtcblx0b2Zmc2V0WSA9IHR5cGVvZiBvZmZzZXRZID09PSBcIm51bWJlclwiID8gb2Zmc2V0WSA6IDAuNTtcblxuXHRpZiAob2Zmc2V0WCA8IDApIG9mZnNldFggPSAwO1xuXHRpZiAob2Zmc2V0WSA8IDApIG9mZnNldFkgPSAwO1xuXHRpZiAob2Zmc2V0WCA+IDEpIG9mZnNldFggPSAxO1xuXHRpZiAob2Zmc2V0WSA+IDEpIG9mZnNldFkgPSAxO1xuXG5cdHZhciBpdyA9IGltZy53aWR0aDtcblx0dmFyIGloID0gaW1nLmhlaWdodDtcblx0dmFyIHIgPSBNYXRoLm1pbih3IC8gaXcsIGggLyBpaCk7XG5cdHZhciBudyA9IGl3ICogcjtcblx0dmFyIG5oID0gaWggKiByO1xuXHR2YXIgY3g6IG51bWJlcjtcblx0dmFyIGN5OiBudW1iZXI7XG5cdHZhciBjdzogbnVtYmVyO1xuXHR2YXIgY2g6IG51bWJlcjtcblx0dmFyIGFyID0gMTtcblxuXHRpZiAobncgPCB3KSBhciA9IHcgLyBudztcblx0aWYgKE1hdGguYWJzKGFyIC0gMSkgPCAxZS0xNCAmJiBuaCA8IGgpIGFyID0gaCAvIG5oOyAvLyB1cGRhdGVkXG5cdG53ICo9IGFyO1xuXHRuaCAqPSBhcjtcblxuXHRjdyA9IGl3IC8gKG53IC8gdyk7XG5cdGNoID0gaWggLyAobmggLyBoKTtcblxuXHRjeCA9IChpdyAtIGN3KSAqIG9mZnNldFg7XG5cdGN5ID0gKGloIC0gY2gpICogb2Zmc2V0WTtcblxuXHRpZiAoY3ggPCAwKSBjeCA9IDA7XG5cdGlmIChjeSA8IDApIGN5ID0gMDtcblx0aWYgKGN3ID4gaXcpIGN3ID0gaXc7XG5cdGlmIChjaCA+IGloKSBjaCA9IGloO1xuXG5cdC8vIGZpbGwgaW1hZ2UgaW4gZGVzdC4gcmVjdGFuZ2xlXG5cdGN0eC5kcmF3SW1hZ2UoaW1nLCBjeCwgY3ksIGN3LCBjaCwgeCwgeSwgdywgaCk7XG59XG5cbmV4cG9ydCBjb25zdCBJU19XT1JLRVIgPVxuXHR0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlO1xuIiwgImltcG9ydCB7IElTX1dPUktFUiB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuZXhwb3J0IGNvbnN0IGRiZyA9IChvYmopID0+IHtcblx0aWYgKERFQlVHKSB7XG5cdFx0aWYgKElTX1dPUktFUikge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhcIltBTUxMLVdvcmtlcl1cIiwgb2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhvYmopO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlYnVnID0gREVCVUdcblx0PyBJU19XT1JLRVJcblx0XHQ/ICguLi5hcmdzKSA9PiBjb25zb2xlLmRlYnVnKFwiW0FNTEwtV29ya2VyXVwiLCAuLi5hcmdzKVxuXHRcdDogY29uc29sZS5kZWJ1Z1xuXHQ6IG5vb3A7XG5cbmV4cG9ydCBjb25zdCBsb2cgPSBERUJVR1xuXHQ/IElTX1dPUktFUlxuXHRcdD8gKC4uLmFyZ3MpID0+IGNvbnNvbGUubG9nKFwiW0FNTEwtV29ya2VyXVwiLCAuLi5hcmdzKVxuXHRcdDogY29uc29sZS5sb2dcblx0OiBub29wO1xuXG5leHBvcnQgY29uc3Qgd2FybiA9IElTX1dPUktFUlxuXHQ/ICguLi5hcmdzKSA9PiBjb25zb2xlLndhcm4oXCJbQU1MTC1Xb3JrZXJdXCIsIC4uLmFyZ3MpXG5cdDogY29uc29sZS53YXJuO1xuXG5leHBvcnQgY29uc3QgZXJyb3IgPSBJU19XT1JLRVJcblx0PyAoLi4uYXJncykgPT4gY29uc29sZS5lcnJvcihcIltBTUxMLVdvcmtlcl1cIiwgLi4uYXJncylcblx0OiBjb25zb2xlLmVycm9yO1xuIiwgImltcG9ydCB7IGxvZyB9IGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBob29rQ2FsbCA9IGNoYW5uZWwuY2FsbDtcblxuY2hhbm5lbC5jYWxsID0gZnVuY3Rpb24gQXBwbGVNdXNpY0xpa2VMeXJpY0NhbGxIb29rKFxuXHRjbWQ6IHN0cmluZyxcblx0Ly8gcm9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IEhvb2tcblx0Li4uYXJnczogYW55W11cbikge1xuXHRpZiAoY21kID09PSBcInN0b3JhZ2UuZG93bmxvYWRzY2FubmVyXCIpIHtcblx0XHRsb2coY21kLCAuLi5hcmdzLCBuZXcgRXJyb3IoKS5zdGFjayk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGhvb2tDYWxsLmFwcGx5KGhvb2tDYWxsLCBbY21kLCAuLi5hcmdzXSk7XG5cdH1cbn07XG5cbi8vIGZ1bmN0aW9uIGJpbmRFZmZlY3QoYmVmb3JlUHJvY2Vzcz86IEZ1bmN0aW9uLCBhZnRlclByb2Nlc3M/OiBGdW5jdGlvbikge1xuLy8gXHRjb25zdCB0YXJnZXRGdW5jID0gdGhpcztcbi8vIFx0Y29uc3QgcmVzdWx0RnVuY3Rpb24gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuLy8gXHRcdHZhciB0bXAgPSB7IGFyZ3MsIHN0b3BwZWQ6IGZhbHNlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4vLyBcdFx0aWYgKGJlZm9yZVByb2Nlc3MpIGJlZm9yZVByb2Nlc3ModG1wKTtcbi8vIFx0XHRpZiAoIXRtcC5zdG9wcGVkKSB7XG4vLyBcdFx0XHR0bXAudmFsdWUgPSB0YXJnZXRGdW5jLmFwcGx5KHRoaXMsIHRtcC5hcmdzKTtcbi8vIFx0XHRcdGlmIChhZnRlclByb2Nlc3MpIGFmdGVyUHJvY2Vzcyh0bXApO1xuLy8gXHRcdH1cbi8vIFx0XHRyZXR1cm4gdG1wLnZhbHVlO1xuLy8gXHR9O1xuLy8gXHRyZXN1bHRGdW5jdGlvbi5uYW1lID0gYCR7dGFyZ2V0RnVuYy5uYW1lfV9iaW5kRWZmZWN0YDtcbi8vIFx0cmVzdWx0RnVuY3Rpb24ud3JhcHBlclR5cGUgPSBcImJpbmRFZmZlY3RcIjtcbi8vIFx0cmVzdWx0RnVuY3Rpb24ub3JpZ2luYWxGdW5jID0gdGFyZ2V0RnVuYztcbi8vIFx0cmVzdWx0RnVuY3Rpb24uYmVmb3JlUHJvY2VzcyA9IGJlZm9yZVByb2Nlc3M7XG4vLyBcdHJlc3VsdEZ1bmN0aW9uLmFmdGVyUHJvY2VzcyA9IGFmdGVyUHJvY2Vzcztcbi8vIFx0cmV0dXJuIHJlc3VsdEZ1bmN0aW9uO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBiaW5kUHJlcGVuZChjYWxsVGhpcywgLi4ucHJlcGVuZEFyZ3MpIHtcbi8vIFx0Y29uc3QgdGFyZ2V0RnVuYyA9IHRoaXM7XG4vLyBcdGNvbnN0IHJlc3VsdEZ1bmN0aW9uID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbi8vIFx0XHRjb25zdCBuZXdBcmdzID0gWy4uLnByZXBlbmRBcmdzLCAuLi5hcmdzXTtcbi8vIFx0XHRyZXR1cm4gdGFyZ2V0RnVuYy5hcHBseShjYWxsVGhpcyB8fCB3aW5kb3csIG5ld0FyZ3MpO1xuLy8gXHR9O1xuLy8gXHRyZXN1bHRGdW5jdGlvbi5uYW1lID0gYCR7dGFyZ2V0RnVuYy5uYW1lfV9iaW5kUHJlcGVuZGA7XG4vLyBcdHJlc3VsdEZ1bmN0aW9uLndyYXBwZXJUeXBlID0gXCJiaW5kUHJlcGVuZFwiO1xuLy8gXHRyZXN1bHRGdW5jdGlvbi5vcmlnaW5hbEZ1bmMgPSB0YXJnZXRGdW5jO1xuLy8gXHRyZXN1bHRGdW5jdGlvbi5wcmVwZW5kQXJncyA9IHByZXBlbmRBcmdzO1xuLy8gXHRyZXR1cm4gcmVzdWx0RnVuY3Rpb247XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGJpbmRBcHBlbmQoY2FsbFRoaXMsIC4uLmFwcGVuZEFyZ3MpIHtcbi8vIFx0Y29uc3QgdGFyZ2V0RnVuYyA9IHRoaXM7XG4vLyBcdGNvbnN0IHJlc3VsdEZ1bmN0aW9uID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbi8vIFx0XHRjb25zdCBuZXdBcmdzID0gWy4uLmFyZ3MsIC4uLmFwcGVuZEFyZ3NdO1xuLy8gXHRcdHJldHVybiB0YXJnZXRGdW5jLmFwcGx5KGNhbGxUaGlzIHx8IHdpbmRvdywgbmV3QXJncyk7XG4vLyBcdH07XG4vLyBcdHJlc3VsdEZ1bmN0aW9uLm5hbWUgPSBgJHt0YXJnZXRGdW5jLm5hbWV9X2JpbmRBcHBlbmRgO1xuLy8gXHRyZXN1bHRGdW5jdGlvbi53cmFwcGVyVHlwZSA9IFwiYmluZEFwcGVuZFwiO1xuLy8gXHRyZXN1bHRGdW5jdGlvbi5vcmlnaW5hbEZ1bmMgPSB0YXJnZXRGdW5jO1xuLy8gXHRyZXN1bHRGdW5jdGlvbi5hcHBlbmRBcmdzID0gYXBwZW5kQXJncztcbi8vIFx0cmV0dXJuIHJlc3VsdEZ1bmN0aW9uO1xuLy8gfVxuXG4vLyBsZXQgc2V0TGlzdCA9IFtiaW5kQXBwZW5kLCBiaW5kUHJlcGVuZCwgYmluZEVmZmVjdF07XG4vLyBsZXQgc2V0TGlzdCA9IFtdO1xuXG4vLyAvLyByb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogXHU0RTBEXHU4OUUzXHU5MUNBXG4vLyAod2luZG93IGFzIGFueSkuRmFrZUZ1bmN0aW9uID0gbmV3IFByb3h5KFxuLy8gXHR7fSxcbi8vIFx0e1xuLy8gXHRcdHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4vLyBcdFx0XHRjb25zdCBob29rID0gc2V0TGlzdC5wb3AoKTtcblxuLy8gXHRcdFx0aWYgKGhvb2spIHtcbi8vIFx0XHRcdFx0RnVuY3Rpb24ucHJvdG90eXBlW3Byb3BdID0gaG9vaztcbi8vIFx0XHRcdFx0bG9nKFwiXHU1REYyIEhvb2sgXHU1MUZEXHU2NTcwXCIsIHByb3AsIHZhbHVlLCBcIlx1NTIzMFwiLCBob29rKTtcbi8vIFx0XHRcdH0gZWxzZSB7XG4vLyBcdFx0XHRcdHdhcm4oXCJcdThCNjZcdTU0NEFcdUZGMUFcdTZDQTFcdTY3MDlcdTUzRUZcdTc1MjhcdTUxRkRcdTY1NzBcdTUzRUZcdTRFRTVcdTc1MjhcdTRFOEUgSG9va1wiLCBwcm9wLCB2YWx1ZSk7XG4vLyBcdFx0XHRcdEZ1bmN0aW9uLnByb3RvdHlwZVtwcm9wXSA9IHZhbHVlO1xuLy8gXHRcdFx0fVxuXG4vLyBcdFx0XHRyZXR1cm4gdHJ1ZTtcbi8vIFx0XHR9LFxuLy8gXHR9LFxuLy8gKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7O0FBa05PLE1BQU0sWUFDWixPQUFPLHNCQUFzQixlQUFlLGdCQUFnQjs7O0FDOUx0RCxNQUFNLE1BQU0sT0FDaEIsWUFDQyxJQUFJLFNBQVMsUUFBUSxJQUFJLGlCQUFpQixHQUFHLElBQUksSUFDakQsUUFBUSxNQUNUOzs7QUN2QkgsTUFBTSxXQUFXLFFBQVE7QUFFekIsVUFBUSxPQUFPLFNBQVMsNEJBQ3ZCLFFBRUcsTUFDRjtBQUNELFFBQUksUUFBUSwyQkFBMkI7QUFDdEMsVUFBSSxLQUFLLEdBQUcsTUFBTSxJQUFJLE1BQU0sRUFBRSxLQUFLO0FBQUEsSUFDcEMsT0FBTztBQUNOLGFBQU8sU0FBUyxNQUFNLFVBQVUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQUEsSUFDL0M7QUFBQSxFQUNEOyIsCiAgIm5hbWVzIjogW10KfQo=
